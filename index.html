<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Immersive RPG</title>

		<script>
			document.addEventListener("DOMContentLoaded", function() {
				fetch("/play_list.php")
				.then(response => response.json())
				.then(ids => {
					//console.log(ids);
					const video_iframe = document.querySelector("#youtube_video");
					let play_list_src = "";
					if (ids.length > 0) {
						play_list_src = "https://www.youtube.com/embed/" + ids[0];
					} else {
						play_list_src = "https://www.youtube.com/embed/?list=PLlnj-W0EhsbtCTalstIUDmV2ZKgFbNkth";
					}
					video_iframe.src = play_list_src;
				})
				.catch (err => {
					console.error(err);
				});
			});
		</script>
	</head>
	<body>
		<style>
			*, *::before, *::after {
				box-sizing: border-box;
			}

			* {
				font-family: Helvetica, Arial, sans-serif;
			}

			a {
				font-size: 4rem;
			}

			a:link {
				color: yellow;
			}

			a:visited {
				color: yellow;
			}

			a:focus {
				color: orange;
			}

			a:hover {
				color: orange;
			}

			a:active {
				color: red;
			}

			html {
				box-sizing: border-box;
				min-height: 100%;
				height: 100%;
				color: white;
				background-color: black;
			}

			body {
				box-sizing: border-box;
				margin: 50px;
				padding: 0;
				min-height: 100%;
			}

			h1 {
				text-align: center;
				margin-bottom: 3.0rem;
				font-size: 5rem;
			}

			.links {
				//background: #d9d7d5;
				display: flex;
				flex-wrap: wrap;
				justify-content: space-between;
			}

			.links div {
				//background: #767775;
				text-align: center;
				flex-basis: 100%;
				height: 100px;
				margin-bottom: 0.5rem;
			}

			footer {
				text-align: center;
				font-size: 1rem;
			}

			footer a {
				font-size: 1rem;
			}

			.video div {
				text-align: center;
				width: 100%;
				height: 100%;
			}

			.video {
				width: 100%;
				height: 100%;
			}

			@media (min-width: 526px) {
				.video div iframe {
					width: 426px;
					height: 240px;
				}
			}

			@media (min-width: 740px) {
				.video div iframe {
					width: 640px;
					height: 360px;
				}
			}

			@media (min-width: 954px) {
				.video div iframe {
					width: 854px;
					height: 480px;
				}
			}

			@media (min-width: 1380px) {
				.video div iframe {
					width: 1280px;
					height: 720px;
				}
			}

			@media (min-width: 2020px) {
				.video div iframe {
					width: 1920px;
					height: 1080px;
				}
			}

			@media (min-width: 900px) {
				.links {
					flex-wrap: nowrap;
				}

				.links div {
					flex-basis: 50%;
				}
			}
		</style>
		<header>
			<h1>Let's make an Immersive RPG in Godot</h1>
		</header>

		<segment class="video">
			<div>
				<iframe id="youtube_video" src="" frameborder="0" allowfullscreen></iframe>
			</div>
		</segment>
		<segment class="links">
			<div><a href="https://godotengine.org/asset-library/asset?user=ImmersiveRPG">Plugins</a></div>
			<div><a href="https://github.com/ImmersiveRPG">Github</a></div>
			<div><a href="https://www.patreon.com/ImmersiveRPG">Patreon</a></div>
		</segment>
		<segment class="links">
			<div><a href="https://www.youtube.com/@immersiverpg">Youtube</a></div>
			<div><a href="https://bitchute.com/ImmersiveRPG">BitChute</a></div>
			<div><a href="https://rumble.com/user/ImmersiveRPG">Rumble</a></div>
			<div><a href="https://odysee.com/@ImmersiveRPG">Odysee</a></div>
		</segment>
		<segment class="links">
			<div><a href="https://twitter.com/ImmersiveRPG">Twitter</a></div>
			<div><a href="https://minds.com/ImmersiveRPG">Minds</a></div>
			<div><a href="https://reddit.com/u/ImmersiveRPG">Reddit</a></div>
		</segment>

		<footer>
			<p>Copyright &copy; 2023 Matthew Brennan Jones</p>
			<p>Licensed under the MIT License</p>
			<p>Source code: <a href="https://github.com/ImmersiveRPG/ImmersiveRPG.com">https://github.com/ImmersiveRPG/ImmersiveRPG.com</a></p>
		</footer>
	</body>
</html>
